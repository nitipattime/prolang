<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      .col-sm-3{
          float: left;
          border-style: solid;
          width: 25%;
      }
      #content{
          margin-left: 33%;
      }
  </style>
</head>
<body>
    <div class="col-sm-3 sidenav">
        <h1>หัวข้อที่เรียน</h1>
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 1
          <br />
          <a href="index.html">จะเขียนโปรแกรมได้อย่างไร</a
          ><br />
          <a href="p2.html">คุณลักษณะโปรแกรมที่ดี</a
          ><br />
          <a href="p3.html">รูปแบบการเขียนโปรแกรมที่ดี</a
          ><br />
          <a href="p4.html">โดเมนกับภาษา</a
          ><br />
          <a href="p5.html">การนำโปรแกรมไปใช้งาน</a
          ><br />
        </ul>
        <br />
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 2 กระบวนทัศน์การโปรแกรม<br />
          <a href="p6.html">กระบวนทัศน์การโปรแกรม</a
          ><br />
          <a href="p7.html">กระบวนทัศน์เชิงบังคับ</a
          ><br />
          <a href="p8.html">กระบวนทัศน์เชิงฟังก์ชัน</a
          ><br />
          <a href="p9.html">กระบวนทัศน์เชิงวัตถ</a
          ><br />
          <a href="p10.html">กระบวนทัศน์เชิงตรรกะ</a
          ><br />
          <a href="p11.html">กระบวนทัศน์อื่นๆ</a
          ><br />
        </ul>
        <br />
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 3 การประเมินความสามารถของภาษาการโปรแกรม
          <br />
          <a href="p12.html">การประเมินความสามารถของภาษาการโปรแกรม</a
          ><br />
          <a href="p13.html">ความสามารถในการอ่าน</a
          ><br />
          <a href="p14.html">ความสามารถในการเขียน</a
          ><br />
          <a href="p15.html">ความสามารถในด้านความเชื่อถือได้</a
          ><br />
          <a href="p16.html">ความสามารถด้านค่าใช้จ่ายและอื่นๆ</a
          ><br />
        </ul>
        <br />
  
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 4 การผูกมัด
          <br />
          <a href="p17.html">การผูกมัด</a
          ><br />
          <a href="p18.html">การผูกมัดตัวแปรกับชื่อ</a
          ><br />
          <a href="p19.html">การผูกมัดตัวแปรกับหน่วยเก็บข้อมูล</a
          ><br />
          <a href="p20.html">การผูกมัดตัวแปรกับตัวดำเนินการ</a
          ><br />
          <a href="p21.html">การผูกมัดตัวแปรกับชนิดข้อมูล</a
          ><br />
        </ul>
        <br />
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 5 ตัวแปร
          <br />
          <a href="p22.html">ตัวแปรกับค่าข้อมูล</a
          ><br />
          <a href="p23.html">ตัวแปรกับการจัดการขอบเขต</a
          ><br />
          <a href="p24.html">ตัวแปรโกลบอล</a
          ><br />
          <a href="p25.html">การจัดการขอบเขตและเวลาชีวิต</a
          ><br />
          <a href="p26.html">การจัดการขอบเขตแบบสตาติก</a
          ><br />
          <a href="p27.html">การจัดการขอบเขตแบบไดนามิค</a
          ><br />
        </ul>
        <br />
  
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 6 การจัดการขอบเขตและเวลาชีวิต
          <br />
          <a href="p28.html">ตัวแปรกับเวลาชีวิต</a
          ><br />
          <a href="p29.html">เวลาชีวิตของตัวแปรพอยน์เตอร์</a
          ><br />
          <a href="p30.html">เวลาชีวิตของตัวแปรในฟังก์ชัน</a
          ><br />
        </ul>
        <br />
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 7 นิพจน์
          <br />
          <a href="p31.html">นิพจน์</a
          ><br />
          <a href="p32.html">ตัวดำเนินการ</a
          ><br />
          <a href="p33.html">ปัญหา Side effect</a
          ><br />
          <a href="p34.html">การประเมินผลนิพจน์แบบ Short circuit</a
          ><br />
          <a href="p35.html">คุณลักษณะนิพจน์ที่มีความโปร่งใส</a
          ><br />
          <a href="p36.html">ลำดับความสำคัญของตัวดำเนินการ</a
          ><br />
          <a href="p37.html">ความเชื่อมโยงของตัวดำเนินการ</a
          ><br />
        </ul>
        <br />
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 8 คำสั่งควบคุม
          <br />
          <a href="p38.html">คำสั่งควบคุม</a
          ><br />
          <a href="p39.html">คำสั่งควบคุมแบบมีการเลือก</a
          ><br />
          <a href="p40.html">คำสั่งวนซ้ำ</a
          ><br />
        </ul>
        <br />
        <ul class="nav nav-pills nav-stacked">
          ตอนที่ 9 ชนิดข้อมูล
          <br />
          <a href="p41.html">ชนิดข้อมูล</a
          ><br />
          <a href="p42.html">ชนิดข้อมูลพื้นฐาน</a
          ><br />
          <a href="p43.html">ชนิดข้อมูลอื่นๆ</a
          ><br />
          <a href="p44.html">ชนิดข้อมูลที่ผู้ใช้กำหนด</a
          ><br />
          <a href="p45.html">การแปลงชนิดข้อมูล</a
          ><br />
          <a href="p46.html">ความเท่าเทียมของชนิดข้อมูล</a
          ><br />
        </ul>
        <br />
  
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search Blog.." />
          <span class="input-group-btn">
            <button class="btn btn-default" type="button">
              <span class="glyphicon glyphicon-search"></span>
            </button>
          </span>
        </div>
      </div>
      <div id="content"><h1>ปัญหา Side effect</h1>

        <button id="tag1" onclick="writeUserData('tag1','t6_3')" value="Side effect">ปัญหา Side effect</button> หรือ
        <button id="tag2" onclick="writeUserData('tag2','t6_3')" value="Functional side effect">Functional side effect </button>
        จะทำให้โปรแกรมเมอร์ <button id="tag3" onclick="writeUserData('tag3','t6_3')" value="Debug">debug </button>
         โปรแกรมไม่ได้ หากไม่เข้าใจถึงผลกระทบที่เกิดขึ้น  ปัญหานี้มักเกี่ยวข้องกับการเรียกใช้งานฟังก์ชันในโปรแกรมซึ่งเราเรียกว่าเกิด Functional side effect<br>
        
        กำหนดนิพจน์ (expression)คือ <br>
        <pre>     result  = A * B + myfunction( ) + 20;
        </pre>
        คำถามคือ <button id="tag6" onclick="writeUserData('tag6','t6_3')" value="function call in expression"> ลำดับการเรียกของฟังก์ชัน</button>จะเป็นอย่างไรเมื่อมีการกำหนดในนิพจน์ร่วมกับตัวดำเนินการอื่นๆ
        การประเมินผลนิพจน์ของภาษาการโปรแกรมสามารถเลือกทำงานได้สองวิธี คือ
        <ul><li>
        <p><button id="tag7" onclick="writeUserData('tag7','t6_3')" value="Precedence call">อาจเรียกโดยพิจารณาตามลำดับความสำคัญของโอเปอเรเตอร์</button>เท่านั้น
        <br>
          ในกรณีนี้  จะดำเนินการคูณ  แล้วค่อยเรียกฟังก์ชันเพื่อดำเนินการบวก หากฟังก์ชันไปแก้ไขค่าตัวแปร A หรือ B ก็จะไม่มีผลต่อการประเมินผลนิพจน์ก่อนหน้า
        </p>
        </li>
        <li><p> <button id="tag8" onclick="writeUserData('tag8','t6_3')" value="Debug">เรียกโดยให้ความสำคัญของฟังก์ชันก่อนพิจารณาความสำคัญของโอเปอเรเตอร์</button> ในกรณีนี้ จะเรียกฟังก์ชันก่อน  แล้วค่อยดำเนินการคูณ แล้วบวก   ดังนั้นหากฟังก์ชันไปแก้ไขค่าของตัวแปร A หรือ B  ในการประเมินผลนิพจน์ก็จะต้องใช้ค่าล่าสุดของ A และ B ในการคำนวณ
        </p></li></ul>
        <p>
        การประเมินผลนิพจน์จะเป็นกรณีที่ 1 หรือ 2 นั้น ขึ้นกับการออกแบบของภาษาการโปรแกรม  ในกรณีที่ 2 นั้นหากฟังก์ชันไปแก้ไขค่าตัวแปรที่เกี่ยวข้องในนิพจน์ จะเกิด Side effect ขึ้น  ซึ่งอาจทำให้นักพัฒนาโปรแกรมสับสนในผลลัพธ์ที่เกิดขึ้นได้
        </p><p>
          <!--Modal -->
          <script>
            $(document).ready(function(){
              $("#myModal1").modal("hide");
              $("#closeV1").click(function(){
                $("#myModel1").modal("hide");
              });
              $("#openV1").click(function(){
                $("#myModel1").modal("show");
              });
            });
          </script>
          <button id="openV1" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal1">
           <img src="images/video.jpg" width="30" height="30/">
          </button>
          </p><div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" width="400" height="350">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button id="closeV1" type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">×</span></button>
                  <h4 class="modal-title" id="myModalLabel">อธิบายโค้ด</h4>
                </div>
                <div class="modal-body" width="350" height="300">
                  <video controls="controls" src="media/t6_3_1.mp4" width="350" height="300">
                        Your browser does not support the HTML5 Video element.
                    </video>
                </div>
        
              </div>
            </div>
          </div>
          <!----><br>
        
        <p></p>
        สาเหตุที่เกิดปัญหา Functional Side Effect
        มาจาก  2 กรณี<br>
        <ol>
        <li><p><button id="tag9" onclick="writeUserData('tag9','t6_3')" value="Edit nonlocal variable in function"> การเรียกฟังก์ชันในนิพจน์ที่มีการแก้ไขค่าของตัวแปร Nonlocal variable ที่ปรากฎในนิพจน์</button>
        </p><pre>#include <stdio.h>
        int A = 20, B=5;
        void main( ){
            result  = A * B + myfunction( ) + 20;     #ถ้ามองด้วยตาเปล่า นักศึกษาอาจเข้าใจว่า A คือ 20 แต่ในการทำงานที่เกิดขึ้นจริงคอมพิวเตอร์อาจเรียกฟังก์ชันก่อน
           ...                                        #ซึ่งจะมีการแก้ไขค่า A ไปแล้ว
        }
        int myfunction(  ){
              A  = A + 10 ;
                ....
             return A;
        }
        </stdio.h></pre>
        เมื่อโปรแกรมเมอร์ทั่วไปที่ไม่ทราบปัญหา Functional side effect จะเข้าใจว่าตัวแปร result จะมีค่าเป็น 150  เพราะเข้าใจลำดับการประเมินผลคือคูณ ทำก่อนบวก
        <pre> result (150)  = 20 * 5 + 30  + 20
        </pre>
        แต่ความจริงแล้วเป็น 200  เพราะภาษาการโปรแกรมเลือกทำการเรียกฟังก์ชัน ก่อนที่จะประเมินผลนิพจน์ตามลำดับความสำคัญของโอเปอเรเตอร์ ดังนั้นจะใช้ค่า A จากการทำงานของฟังก์ชัน
        <pre>result (200)  = 30 * 5 + 30 + 20
        </pre>
        </li>
        <li>
        การเรียกฟังก์ชันที่มี
        <button id="tag4" onclick="writeUserData('tag4','t6_3')" value="Two-way parameter">การส่งผ่านพารามิเตอร์แบบ Two-way parameter </button>
         ซึ่งค่าของพารามิเตอร์ถูกส่งกลับไปยังเออร์กูเมนต์ที่ปรากฎในนิพจน์
        เช่น<br>
        <pre>#include <stdio.h>
        
        void main( ){
          int A = 20, B = 5, result;
         result  = A * B + myfunction (&amp;A) + 20;
          printf("%d",result);
        }
        int myfunction(int *p){
              *p = *p + 10;
              return *p;
        }
        </stdio.h></pre>
        <p>
          <!--Modal -->
          <script>
            $(document).ready(function(){
              $("#myModal").modal("hide");
              $("#closeV").click(function(){
                $("#myModel").modal("hide");
              });
              $("#openV").click(function(){
                $("#myModel").modal("show");
              });
            });
          </script>
          <button id="openV" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
           <img src="images/video.jpg" width="30" height="30/">
          </button>
          </p><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" width="400" height="350">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button id="closeV" type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">×</span></button>
                  <h4 class="modal-title" id="myModalLabel">อธิบายโค้ด</h4>
                </div>
                <div class="modal-body" width="350" height="300">
                  <video controls="controls" src="media/t6_3_2.mp4" width="350" height="300">
                        Your browser does not support the HTML5 Video element.
                    </video>
                </div>
        
              </div>
            </div>
          </div>
          <!----><br>
        
        <p></p>
        <p>
        ตัวแปร A เป็นเออกูเมนต์และถูกส่งผ่านให้กับพารามิเตอร์ด้วย <button id="tag5" onclick="writeUserData('tag5','t6_3')" value="Reference address"> Reference address</button>
         ดังนั้นหากพอยน์เตอร์ p ในฟังก์ชันแก้ไขค่าผ่านพอยน์เตอร์ ก็จะมีผลกระทบไปยังตัวแปร A ทันที
        
        วิธีแก้ไข</p>
        พยายามหลีกเลี่ยงการเขียนโค้ดในลักษณะนี้ หากไม่แน่ใจว่าภาษาการโปรแกรมจะมีลำดับการประเมินผลอย่างไร เมื่อมีการเรียกฟังก์ชั่นในนิพจน์ ?
        อาจจัดเรียงนิพจน์ใหม่  เช่น<br>
        <pre>result = A * B + 20;
        result = result + myfunction( );
        </pre>
        
        หรือ<br>
        <pre>result = A * B + 20;
        result = result + myfunction(&amp;A);
        </pre>
        <p>
        ซึ่งเมื่อเรียงใหม่ค่า A (ที่นำไปคูณกับ B) จะมีค่าเท่ากับ 20 ตามความเข้าใจแรกเริ่ม
        </p>
        </li>
        </ol>
        <h1>ตอบคำถามต่อไปนี้</h1>
        <p>
        </p><h4>เมื่อมีฟังก์ชันปรากฎในนิพจน์ ภาษาโปรแกรมอาจจัดการการเรียกฟังก์ชันในสองรูปแบบคือ...
            </h4>
        <button id="tag_t6_3_q1" onclick="startTag('tag_t6_3_q1')">เริ่มแท็ก</button>
        <p></p>
        <p>
        </p><h4>ปัญหา Side effect เกิดได้จาก 2 กรณีคือ...
            </h4>
        <button id="tag_t6_3_q2" onclick="startTag('tag_t6_3_q2')">เริ่มแท็ก</button>
        <p></p>
        <p>
        </p><h4>two-way parameter คือการส่งผ่านค่า......ให้กับพารามิเตอร์
            </h4>
        <button id="tag_t6_3_q3" onclick="startTag('tag_t6_3_q3')">เริ่มแท็ก</button>
        <p></p>
        </div>
</body>
</html>